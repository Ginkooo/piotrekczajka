<div id="newsletter">
    <h3 class="sidebar-header">Newsletter</h3>
    <div class="inner">
        <p>Nie przegap posta!</p>
        <p>Zapisz siÄ™ do programistycznego newslettera :)</P>
        <div class="input-container">
            <input id="newsletter-input" type="email" name="email">
            <button>Ok</button>
        </div>
    </div>
</div>

<script>
    var button = document.querySelector('#newsletter button')
    button.addEventListener('click', function () {
        var email = document.querySelector('#newsletter-input').value
        asyncPost('/newsletter/', {'email': email}, function (response) {
            var data = JSON.parse(response.responseText)
            popUp('ok', data['msg'])
        }, function (response) {
            var data = JSON.parse(response.responseText)
            popUp('fail', data['msg'])
        })
    })
</script>
